---
title: Analysing  tweets from the Virtual Madrid Open
author: ''
date: '2020-05-01'
slug: analysing-tweets-from-the-virtual-madrid-open
categories:
  - Tennis
  - R
tags:
  - R
  - tennis
  - leaflet
  - sentiment analysis
  - twitter
  - wordcloud
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<p>First, let’s load the required packages and the tweet data that I had previously saved.</p>
<pre class="r"><code>require(data.table)
require(ggplot2)
require(dplyr)
require(reticulate)
require(sentimentr)
require(rtweet)
require(leaflet)
require(lubridate)
require(tidytext)
require(wordcloud)
tb&lt;-import(&quot;textblob&quot;)

tw&lt;-fread(&quot;C:/Users/victor.enciso/Documents_notOneDrive/Projects/misc/MMOPEN_tweets_01052020_1030.csv&quot;)
#Make sure accents and other charcters display correctly
Encoding(tw$location)&lt;-&quot;UTF-8&quot;
Encoding(tw$text)&lt;-&quot;UTF-8&quot;</code></pre>
<p>The query retrieved ~7500 tweets from the last 9 days which is enough to cover the duration of the tournament</p>
<p>Using leaflet we can plot the location of the tweets to get an idea of where they are coming from.
We use lat,long coordinates where available. Unfortunately only a very small proportion of tweets come with location information.</p>
<pre class="r"><code>m &lt;- leaflet() %&gt;%
     addTiles() %&gt;%  # Add default OpenStreetMap map tiles
    #addProviderTiles(&#39;Stamen.Toner&#39;) %&gt;% 
     addMarkers(lat=tw[!is.na(lat),lat], lng=tw[!is.na(lng),lng],
                     popup=paste0(tw[!is.na(lng),screen_name],&quot;:&quot;,tw[!is.na(lng),text])) 
m  </code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-38.19988735475,55.8761973,51.457877,-6.19621135,40.1687225,38.009443,55.13332045,55.1598345,55.1598345,55.1598345,55.1598345,55.1598345,51.59925535,28.1030125,-37.97256651425,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,50.1035907,50.1035907,50.1035907,26.4561475,-28.45340525,41.39265665,43.629311,43.27787125,43.27787125,-6.9155569,-6.9155569,7.42907465,42.394453,42.394453,6.49311225,43.2436283,25.5694737,25.5694737,25.5694737,25.5694737,25.5694737,25.5694737,25.5694737,34.0207895,35.9824705,29.8384948,-22.9333,36.251936,45.4091172,44.9346135,7.8786602,7.8786602,7.8786602,41.6916363,37.7706565,40.4777947,-33.4254004,28.1030125,40.4313888,41.6916363,37.10851325,40.31990335,15.2011325,15.2011325,15.2011325,44.787123,55.5486656,51.61188465,51.61188465,51.61188465,-33.8065285,30.0615955,34.0207895,49.3419815,42.8302591,53.1548066,53.1548066,51.67910325,41.14601905,41.14601905,41.14601905,41.14601905,41.14601905,51.5138971,55.94230005,28.4983765,35.4019815,35.4019815,35.4019815,35.4019815,50.05957995,40.655138,40.655138,40.655138,40.655138,6.6897024,-27.95422175775,52.76132755,43.73582845,57.1605562,32.6535835,35.8577,23.62541855,6.59061115,43.555244,43.555244,43.555244,43.555244,41.8984164,43.36888,45.92856115,45.92291295,40.3476735,53.8019562,29.8384948,52.11398,24.0983807,24.0983807,41.39265665,43.8806945,33.51674685,40.3341475,51.4108755,19.32838305,40.3005504,-33.429485,19.3261458,45.5578305,28.6384895,45.4827445,43.629311,40.00134,30.3834,30.3834,30.3834,30.3834,40.4,51.50378615,22.2624275,49.985057,-23.682803,50.98304269,45.0728727,35.2352865,-22.85186074,15.54795,55.466068,41.26028535,-37.97256651425,18.79171955,35.7539595,-29.85083595,53.5558197,52.01761005,50.984976,38.9293245,38.9293245,47.25082685,49.0869965,51.46468585,51.52483525,14.5464995,52.91553,53.6239735],[146.522074416,-3.1142899,-2.58539,106.8220717,-84.973784,-122.1178059,-6.66293985,-118.8117149,-118.8117149,-118.8117149,-118.8117149,-118.8117149,-0.018734,-15.45984895,145.053135344,3.249357,3.249357,3.249357,3.249357,3.249357,3.249357,3.249357,3.249357,-5.27126205,-5.27126205,-5.27126205,-80.0931798,21.26594485,2.14122735,-79.2725695,-1.9877106,-1.9877106,107.6174241,107.6174241,3.9052965,-71.2420715,-71.2420715,3.3386054,-2.2346623,85.1020385,85.1020385,85.1020385,85.1020385,85.1020385,85.1020385,85.1020385,-118.4119065,-83.9638415,-95.4464865,-43.2333,-78.9624499,12.1748172,-93.6626335,80.76465395,80.76465395,80.76465395,-0.92733235,-122.4359785,-3.70350755,-70.51891745,-15.45984895,-79.98068965,-0.92733235,-3.57099015,-3.89322605,-86.24319335,-86.24319335,-86.24319335,26.260548,-4.655906,-0.21089455,-0.21089455,-0.21089455,25.57926235,146.4647615,-118.4119065,-122.857891,-106.330781,-6.81533305,-6.81533305,-3.23023515,1.1243688,1.1243688,1.1243688,1.1243688,1.1243688,-3.42597775,-4.0086146,-81.386183,-80.6311314,-80.6311314,-80.6311314,-80.6311314,14.4658753,-73.9487755,-73.9487755,-73.9487755,-73.9487755,3.3352053,153.369361472,0.419867,11.1544972,-2.12704045,-96.55901125,-86.3947,-102.55803745,3.318066,-79.616073,-79.616073,-79.616073,-79.616073,12.54514535,-80.9843445,8.52277925,8.4322073,-74.0701315,-1.56549,-95.4464865,-2.0798,90.32870865,90.32870865,2.14122735,-79.2996725,-7.7794158,-74.2482833,-0.189289,-99.15234025,-3.6656669,-70.61075935,-99.6050475,-73.723025,77.095086,-75.6250379,-79.2725695,-74.1880345,-89.3727,-89.3727,-89.3727,-89.3727,-3.68333,-0.1891901,70.8960125,8.566941,-46.5955455,13.83831969,7.6757855,136.7583175,-43.29285691,121.09068,-4.62491655,-3.93390615,145.053135344,98.96891115,139.8539435,-51.1667104,-113.4926175,-0.22936815,-1.719032,-1.90194475,-1.90194475,9.581494,-122.2670745,-0.07060315,-0.1731149,121.03321235,-1.4707785,-113.121093],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["TraralgonTiger:Great comeback @Peter_Mitchell7 when goaded by Tim Watson tonight on @7NewsMelbourne on virtual Madrid Masters #MMOPEN \nTim with a smirk \"\"Well Mitch, if you want some real sport, there's a good game on @7mate tonight that you may enjoy.\"\" \nMitch \"\"It might be old but it's real!\"\"","CatListen:@the_LTA @andy_murray @denis_shapo @MutuaMadridOpen Go Andy","MicheWatkins:@atptour @andy_murray @MutuaMadridOpen Well done ANDY !","CentralStoreID:#PlayatHome with STAR WARS figures and it comes with up 50% OFF\n.\nExclusive via Chat &amp; Shop⁠\n.⁠\nGet CashBack 100K using BCA Credit Card (T&amp;C apply)\n.\nFREE SHIPPING maximum IDR 20.000 for the first 50… https://t.co/6u77MhZAlE","MichaelANeff:@kikibertens @MutuaMadridOpen When you're good you're good play like you've never played before okay","Microjubei:@PlayStation @AskPlayStation \nWill there be any more free games added to the #PlayAtHome initiative, maybe in May🤔?❓","plowe1046:@the_LTA @andy_murray @MutuaMadridOpen @NHSuk @atptour 💕💕💕💕💕💕💕","LeonThomasBraun:Most competitive match of the tournament so far 🎮 Well done on the battle @Bandreescu_ and pretty good result for your first tournament of the season 😊 Keep at ‘em! 🇨🇦 https://t.co/hXynTnvoSs","LeonThomasBraun:@TSN_Sports @TSNTennis Are you going to be broadcasting this, considering you have the rights to 900/1000 level events? 🤔 https://t.co/ffJg46yDM8","LeonThomasBraun:@TennisTheGame This @MutuaMadridOpen event really proves/highlights that game devs really need to up their level and release a comprehensive, high quality, @WTA @atptour player/sponsor sanctioned game with most top/popular players, on par with other top sports games 🤔","LeonThomasBraun:Note: Madrid is 6 hours ahead of the GTA, so if the time listed for @MutuaMadridOpen is local, than Bianca’s matches would start at 14:30 (2:30pm) Bianca time ⏰ https://t.co/cpIvQeW89h","LeonThomasBraun:For all the @Bandreescu_ fans out there, Bianca will play her first virtual matches on Monday the 27th starting NB 20:30 🇨🇦 I imagine the NB is “not before” but not sure what the time zone on that is; I’ll find out and add to this post 😊 https://t.co/wbVT77VRTm https://t.co/PzdJRi3CWn","OjMonks:You love to see it https://t.co/Dfkenk382m","_Cristian_90:@MutuaMadridOpen @andy_murray @TennisChannels Madre mía Goffin, pecho frío hasta en la play ... 😂😂😂","TennisNerdsBlog:Walkover😂 https://t.co/Q0nkrsMkNN","aarenas_:Andy! https://t.co/ssjah9AIYl","aarenas_:He hecho unos cuantos sorteos de cuadros... ¡Pero hoy haremos uno muy especial! A las 16:00 os espero con @Rafael_Plaza para el sorteo en directo del @MutuaMadridOpen Virtual! ¡La lista de jugadores es 🔝! ¡No llegues tarde, @feliciano_lopez!\n\n🎥: https://t.co/ZUMaINsgXE https://t.co/ifk1sKiddC","aarenas_:¡Partidazo entre @DavidFerrer87 y @dieschwartzman para arrancar el @MutuaMadridOpen Virtual Pro!\n\n🎥: https://t.co/4zAhqNW1VU https://t.co/Pm4h9jzZm2","aarenas_:@miguelangeldaza @MutuaMadridOpen ¡Así lo haré! Son un equipo 🔝","aarenas_:Finalizó el @MutuaMadridOpen Virtual Pro con las victorias de Murray y Bertens. \n\nMe quedo, por encima de todo, con la solidaridad de muchísimas personas  que han donado y que han invertido su tiempo y cariño para hacerlo posible. 👏🏻👏🏻 https://t.co/hMhFOtPRtN","aarenas_:Hoy hemos celebrado con @atptour  y @WTA el sorteo del @MutuaMadridOpen Virtual Pro. ¡Os animo a seguirlo desde el lunes! Las causas benéficas merecen la pena. \nThanks @Rafael_Plaza! \n\n👉🏻 https://t.co/fkeYqdyoQR https://t.co/HCXLr1OWUs","aarenas_:@stewieALQ @DavidFerrer87 @dieschwartzman @MutuaMadridOpen Están en ello. Se solucionará. Quedémonos con lo positivo 😊","aarenas_:¡Arrancamos el sorteo del @MutuaMadridOpen Virtual PRO!\n\nhttps://t.co/ngMrOwcVtA","NathanW08234290:@MutuaMadridOpen @WTARomania I’ve got a reason to live again, it’s completion, the sea, it may be small but it’s a huge hope for you all. Romania forever Hallep foreve big waves for Nathan. Never give up. It’s soul.","NathanW08234290:@MutuaMadridOpen @dieschwartzman @andy_murray Come on Andy","NathanW08234290:@simonahalep5 @Simona_Halep @MutuaMadridOpen Babe!! Im going slightly grey in my hair (silver surfer). Before we get too old. I’m well today. Have a great day. Tony, Darren, nik, Arti dNiel and Tania and friends and family peace be with you","Ringham7:@TennisChannel @andy_murray @MutuaMadridOpen Three Grand Slams, 14 @ATPMasters titles, 2 Olympic Gold in singles and a Davis Cup win. Now @andy_murray can add the @MutuaMadridOpen Virtual Pro title to his collection. Sport's new reality! Well played Andy &amp; well done to @feliciano_lopez &amp; his staff for an innovative idea!","AustinAndreas3:@atptour @MutuaMadridOpen @andy_murray The champion is back🎉🎉 @andy_murray","LouisSuddaby23:That tie break was genuinely tense! 😂 https://t.co/tdTsZeKab1","JorgeTwtsTennis:The #MMOpen tweeting results of Virtual Pro with headlines. How far we have fallen in the world of sport. Goodness. I know they desperately need content, but it's so incredibly cringeworthy 😂","otxoki54:Como termino el @David__Goffin v @StefTsitsipas the game in @MutuaMadridOpen ... #virtualtenis","otxoki54:@BelindaBencic ETXERA @nataliallovovic #virtualtenis @ConexionTDP_tve @feliciano_lopez  @kikibertens AURRERA..engancha el #virtualtenis .. @MutuaMadridOpen","davidtheonardee:#athome si Boi coba2 main air gerimis. Trus doi seneng, ga mau masuk😅.\n#kangenjalanjalan tapi #dirumahajadulu #keluarseperlunya\n.\n.\n.\n#stayathome against #covid_19 #playathome #2020 #april #denzelgabrieltheonardy… https://t.co/j5g8sxwG45","davidtheonardee:Lil designer &amp; his tab. 😎\n#kangenjalanjalan tapi #dirumahajadulu #keluarseperlunya\n.\n.\n.\n#athome #stayathome against #covid_19 #playathome #2020 #may #denzelgabrieltheonardy #davidvaniajourney #familylife @ Salt &amp;… https://t.co/n9SickzCuB","EsanAtinuke92:Toor okay https://t.co/dUJ5REQbkk","smalps:Yes https://t.co/OuWefQoW5O","smalps:Class act from @dieschwartzman https://t.co/jVV2mJdj4D","Officially_Seyi:What game is this\nI think it's sacrilegious that we've not had a top tier tennis game in close to a decade https://t.co/kqW751swuN","BingenBila:@BelindaBencic @MutuaMadridOpen 🔝performance","AbhishekAnand4u:subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/gClrP4EUW3","AbhishekAnand4u:subscribe - https://t.co/lVejK0sXH8\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/LfrewKFupx","AbhishekAnand4u:subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/goSCX03kkz","AbhishekAnand4u:subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/M6DFPSdbdQ","AbhishekAnand4u:subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/HyO9A2yo1D","AbhishekAnand4u:subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/nclDCvzIkK","AbhishekAnand4u:subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/YTgdhFa7a0","christinebarger:Ouuuu #escaperoom #PlayAtHome https://t.co/9l6M0Kdd4V #affiliate https://t.co/DHnyj4vSyt","topher901:Tomorrow night I have to choose between #playathome d&amp;d, the @parksandrecnbc reunion, or the Three 6/Bone Thugz Instagram #Verzuz. Truly a king’s ransom of quarantine activities. My modem can handle all three, but can my heart?","tabpr:#WTA La tenista Louisa Chirico jugando en el @MutuaMadridOpen en el 2016. El Mutua Open se hubiera celebrado esta semana. @Louisa_Chirico 🎾 https://t.co/4FkLTWv4KY","erickfirmamento:I recorded this video for the PRS guitars challenge!\n\n@prsguitars \n#Playathome\n#myPRS em Tijuca, Rio De Janeiro, Brazil https://t.co/DWLyZYa0dd","CityofDurhamNC:You can help our #healthcareheroes &amp; other essential employees during the #COVID19 pandemic. \n\nHow? #StayatHome &amp; #PlayatHome in #Durham. https://t.co/lSByWqtZu9","Erooooooooooos:@MutuaMadridOpen @dieschwartzman @andy_murray Is it a joke? The correct score is 3-0! https://t.co/feYNJjwtty","AntonioLeonPES:@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ No más faltó que bailes 😂🤣 https://t.co/fijdHzOdAj","HazeemThahir:Watching #Techstorm #esports on @dialoglk TV @Quantic_Dream's #DetroitBecomeHuman one helluva video game. I am watching this &amp; I'm playing #BeyondTwoSouls these days which is a awesome game too, loving it. @EllenPage performance is epic. #Sony #PlayStation4 #PlayAtHome #StayHome https://t.co/CvfX5V9VIs","HazeemThahir:Just now finished #BeyondTwoSouls absolutely brilliant @Quantic_Dream #DavidCage. @EllenPage &amp; #WillemDafore both of your acting is simply magnificent. I chose #Life #Sony #Playstation4 #StayHome #PlayAtHome https://t.co/QjVdHiCDWw","HazeemThahir:Video games and unemployment... Not losing my mind, not at all... Thank you #Sony #Playstation4 #StayHome #PlayAtHome #LKA #SRILANKA","MiguelOrlac:@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ Jajajjajajaa, que Showman estas hecho...","kittenonthekeys:“We’ll Meet Again” piano cover Quarantine Cabaret w Kitten on the Keys https://t.co/0N4YpjcB5g via @YouTube @kittenonthekeys #piano #playathome #quarantinecabaret #wellmeetagain","Yakal83:¿Podemos decir que los juegos del @PSPlusES de este mes son 1 mierda?\nConfirmamos, los juegos de este mes son una auténtica mierda pinchada en 1 palo. \nEsperemos que saquen un 2@ #PlayAtHome mejor, porque no veas... se han lucido totalmente 😂😂😂😂 https://t.co/FDCm1t7wSy","Beatlebun:@ATPTour_ES @andy_murray @feliciano_lopez @MutuaMadridOpen Andi yu si mi?","CarlaSuarezNava:@Gravesen_1 @MutuaMadridOpen Te llevaste la victoria esta vez, aunque espero poder tener una revancha! 😉 Un placer y mucha suerte en la siguiente ronda 💪🏻","deluca_jeremy:All you need to make music is  ❤💜💙💚💛\nEnjoy this piece \"\"Quaratine\"\" by Camilo Jauregui performed by Mr. DeLuca from his kitchen counter! 🍴🥣🧂🥛🎶\n#PlayAtHome\n#MusicAnywhere #MusicEverywhere https://t.co/bke74aDg7P","FernandoRamosss:@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ Contra quién toca hoy???","AlexAlguacil8:@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ 🤣 🤣 Muy top!","hectorubio:@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ ÍDOLO 🤣🎾","marcopenalba:@BelindaBencic @MutuaMadridOpen Go Belinda and get yourself into the second round of @MutuaMadridOpen!","marcopenalba:@ESPNtenis @MutuaMadridOpen @ElinaSvitolina @AngeliqueKerber @KaPliskova @DonnaVekic All of them beautiful!","marcopenalba:@atptour @fabiofogna @MutuaMadridOpen La idea de este torneo virtual es genial!","laura_elena87:@MutuaMadridOpen @sorana_cirstea @ElinaSvitolina @JohannaKonta @vika7 Sorana 😍","SportsBunker_1:The quarter-final line-up for the Mutua Madrid Virtual Pro has been set.\n\nToday’s match-ups include: \n\n🇬🇧Andy Murray vs 🇩🇪Alexander Zverev\n🇦🇷Diego Schwartzman vs 🇮🇹Fabio Fognini\n🇬🇷Stefanos Tsitsipas vs 🇪🇸David Ferrer\n🇧🇪David Goffin vs 🇫🇷Benoit Paire\n\nWho’s your pick? \n\n#MMOPEN","JemmaGross:Wendy Darling as a pirate! 🏴‍☠️ YES! Can’t wait for me &amp; Pops to try this one out. 👍🏴‍☠️ FREE play to download fellow parents /anyone with kids to entertain OR if you need some theatrical fun today 🥳 #PlayAtHome https://t.co/PsMIbGrSk8","JemmaGross:Thrilled to be co-producing this with @RachelBarnett02 &amp; our company @flyhighstories FREE NEW PLAYS for you to do AT HOME! For families or for anyone who loves #theatreforyoungaudiences stay safe stay at home #PlayAtHome https://t.co/1xieEryndT","JemmaGross:ITS READY! @flyhighstories AT HOME project. First THREE plays are online ready for families to read/perform/play with at home for FREE. I’m so excited &amp; proud of this. Please check them out! #playathome https://t.co/l2OGc7vPK9","NyanivanSon:Car number 2 done: Shout out to the best crew in the streets of @CSRRacing \n#PlayApartTogether \n#ilovecars \n#CSRRacing \n#PlayAtHome https://t.co/97CzfSB6Qc","yumi_kazuki:こんな時だからこそ大量断捨離‼️\nたくさんのピアス、さようなら👋\n\nhttps://t.co/SUz3pwDVWc\n\n#大掃除 する #おうち時間 👍💡\n\n#stayhome #おうちエブリ #ピアス好きと繋がりたい #ピアス女子 #STAYHOME週間 #ステイホーム #StaySafe #断捨離 #PlayAtHome https://t.co/olPBJQbepv","TVMCCA:Late Show with Stephen Colbert: John Fogerty \"\"Have You Ever Seen The Rain\"\" - #PlayAtHome https://t.co/TB7Wr2T3Og via @YouTube","Tedklee:Miss them games #basketball #hockey #sport #rugby @SportHostingVan @MyVancouver #Vancouver #PlayAtHome https://t.co/rpE78sqVWU","jeffleroydavis:John Fogerty \"\"Have You Ever Seen The Rain\"\" - #PlayAtHome https://t.co/RMsenN9xgF via @YouTube","LawlerKev:@BellshawGeorge @MutuaMadridOpen when did Svitolina and Konta play this and how come it wasn’t streamed? Thanks","LawlerKev:@shawnspencer96 @MutuaMadridOpen @sorana_cirstea https://t.co/KHGbIxuDGg","Dawn1Evans:@the_LTA @JohannaKonta @MutuaMadridOpen @CaroWozniacki How do I watch this virtual tennis?","iivaan10:@David___Llorens @adellfdez @MutuaMadridOpen @Doural28 No me hace falta animarme, estoy con ella en casa jugando un rato! https://t.co/t518rykC7x","iivaan10:@David___Llorens @charlyygarcia_ @MutuaMadridOpen @Doural28 @Adr11an_ @Monleon_P @DrefanHardy @Cristian10VM @TheMagician5GS @AlejanMilos @RealNiKLo https://t.co/Hpt2Va7r60","iivaan10:#TeamBibi #TeamVika https://t.co/8WG6s7QSNl","iivaan10:Elina dejándose perder para que no pase Vika, lamentable. Los celos porque Monfils quiere más a Vika que a ella https://t.co/9RdpD7WuM0","iivaan10:@MutuaMadridOpen @Bandreescu_ https://t.co/BhcDeOTW0A","LlanharanDropi1:We have created a video with some ideas of activities for you to do whilst at home head over to YouTube for the full video\nhttps://t.co/1Ke1Evh8yd\n\n#StayHome #PlayAtHome #COVID19 https://t.co/hz4iFhGc9T","angelickf:@the_LTA @andy_murray @RafaelNadal @MutuaMadridOpen Prefer @andy_murray doing his own commentary 😁","BlackLionattaka:@Madison_Keys @MutuaMadridOpen https://t.co/N1ohXry2za","greenbunny7:@MutuaMadridOpen @nikkori89506411 Nishikori. ❤️🎾❤️🎾 Go Kei.","greenbunny7:@MutuaMadridOpen Please do a tweet giving viewing methods. I'm sure you have already, but now you need to make at least 2 or 3 tweets about this. Starting times only help if you know where to find it. Thank you from all of us who missed this info before. ❤️🎾❤️🎾❤️😎😎","greenbunny7:@MutuaMadridOpen I couldn't follow your schedule. Didn't seem accurate. Will it be better? Also, every time I went to watch, all I saw were commentators and snippets of matches.","greenbunny7:@keinishikori @MutuaMadridOpen Go Kei! 💪💪🎾❤️🎾❤️","GabrielJiri:První výhra @KaPliskova na @MutuaMadridOpen 😅 (3:1) https://t.co/RWS4vrHslJ","MRisingStar18:Stream dying when Isner plays, we stan @MutuaMadridOpen","MRisingStar18:Most winners in Caroline Wozniacki’s career https://t.co/1LJbn6iYvg","MRisingStar18:Kill her Donna 🥵 https://t.co/EBmMN2xkl9","MRisingStar18:The @MutuaMadridOpen is shaking https://t.co/QVE3OfPuib","habdoolahi:Were you able to watch these games @LifeOfAdunni? https://t.co/4rVBA3gFIw","martinezgeek:This is going to be epic! If you’re a #StarWars fan and love a bit of #trivia, be sure to get a team together, have a laugh and get involved. Comp starts May 4th at 6pm AEST on https://t.co/CV8XNXE1Fz #aussieED #PlayAtHome  #starwarstrivia #edutwitter https://t.co/NBvL1TtFZZ","MarkFielding14:@MutuaMadridOpen Nishikori","fenomenogabry:@BelindaBencic @MutuaMadridOpen https://t.co/PTR31Mvd7N","Bexwatt:This is great! 🙌🏽 #buildingresiliance #PlayAtHome https://t.co/nMJglqe4lS","maycock_keith:@AngeliqueKerber @MutuaMadridOpen Hello beautiful","paulscottmusic:When you send your video guy a take and he sends this back as your thumbnail pic for the song! To check out the next one, hit that YouTube link in bio and subscribe much appreciated\n.\n.\n.\n#myprs #playathome… https://t.co/Md6aLIRclQ","SoyLuiSitoLopez:@KaPliskova @MutuaMadridOpen Omg i love that Dual! 😍😍😍","chidinm_a:@LifeOfAdunni @JJlovesTennis @MutuaMadridOpen @JohannaKonta 😍😍","NoronhaWTA:Genie 🇨🇦 will play 2 matches tomorrow in the virtual @MutuaMadridOpen \nFirst Match \nBouchard vs Vekic\n\nSecond Match\nBouchard vs Bertens\n\n#Geniearmy🎾 #Webelieveinbouchard @geniebouchard goodluck u got this 👍👍👍👍","NoronhaWTA:Bianca 🇨🇦 will play 2 matches on the virtual @MutuaMadridOpen tournament\n\nFirst Match\nBianca vs Wozniacki\n\nSecond Match\nBianca vs Keys \n\n#bianca #andreescu @Bandreescu_ good luck on the tournament","NoronhaWTA:Bibi 🇨🇦 wins 4-3 in a tiebreaker #virtualmadridmudala @MutuaMadridOpen","NoronhaWTA:Lets go Eli good luck on the tournament @MutuaMadridOpen even thought it's virtual #FamEli #mutuaMadridopen @ElinaSvitolina https://t.co/v7GvlX6Tv2","madmaxsomm:vamos Peque carajo https://t.co/4PYsqqXcve","eugene03566638:@KaPliskova @MutuaMadridOpen I bet you lost on purpose ☘️🎾","DiegoAmbrosin:Il genio di @feliciano_lopez e tutti gli sono andati dietro 🤣🤣🤣🤣\nDa @Eurosport_ES alla @BBCSport passando dal @CorSport...\nUn genio 🤣🤣🤣🤣\n#MMOPEN #Nadal https://t.co/VzKmtLIRbU","DiegoAmbrosin:Vamos a Ganar 💪🏼🎾🎮🤣🤣\n#VamosRafa #MMOPEN https://t.co/v8JDZagHD4","PaulKasterGolf:Connected Coaches Episode #2 with @FocusGolfGroup @RudyGonzalezIII and @Blazer_Justin. We talk about indoor putting drills and how to keep your game sharp at home. Episode #3 coming later this week! https://t.co/lUoNcwAwGY via @YouTube #ConnectedCoaches #GolfTips #PlayAtHome","kennykoalabear:This is so captivating! Watching top professional tennis players play each other on the play station! Loving it! Will you be doing a special podcast @TennisPodcast ? 😆 https://t.co/hLcbLQiJwM","txtnspro:Wildcat Tennis! Click on the blog to view Best Stretches for Tennis Players @Humble_Tennis #elevatetoexcellence  #wildcatPRIDE #PlayAtHome #TennisAtHome #HealthyAtHome #tennis @HumbleISD @HumbleISD_HHS @HumbleISD_Ath https://t.co/BAYdF1Bbl4","Sartennis04:Evening S&amp;C following my edgbastonpriorytennis home training programme. Today was lower body, will be also doing some footwork drills.  Had a bit of the @mutuamadridopen virtual tennis on in the background 🎾🎮… https://t.co/V0KS5pDMsM","SportsBoyShawn:@rnadalacademy @RafaelNadal @MutuaMadridOpen Vamos Rafa","SportsBoyShawn:Vamos Babe @RafaelNadal https://t.co/AirqbR7mtD","AnalGoddess770:@MutuaMadridOpen virtual tournament is not a bad idea but can the commentators shut the fuck up and let hear @JohnIsner and Schwartzman?","Scarlett_Li:@BelindaBencic @MutuaMadridOpen 😂👏🏼","Halim_Tennis:@KaPliskova @MutuaMadridOpen 🤝","tarag76:@MutuaMadridOpen @feliciano_lopez The English link doesn't work https://t.co/RRY5aigNsR","pandsreid:@MutuaMadridOpen @KaPliskova @fioferro Eek!","GabrielGalvan:Jajajaja venga manacori #nadal #madridvirtual #mutuamadridopen\nHabría que ver las habilidades predeterminadas en la consola a uno y otro jugador. https://t.co/CcaWIWuG8e","DonStKr:@viciuslab @MutuaMadridOpen Dale primo dale!!!","corbiker:@BelindaBencic @MutuaMadridOpen Visualization 😉","amor_tinto:Lo de hoy... #pandemicbarbie #stayhome #quedateencasa #Barbie #barbiedoll #PlayAtHome https://t.co/nQEHUs3qrC","Johansson85:@jessicamimi7 @MutuaMadridOpen After what thiem said yesterday?","ashusharma078:Participate in a contest of Game of Scores and stand a chance to win #REALCASH upto 1 Lakh!*\rRegister Now: https://t.co/Um8RM4BZqy\r\r#Gamming #WinRealCashPrize #PlayAtHome #gharpebaithochallenge #ContestAlert  #QuizTimeMorningsWithGameofScores  #MondayMotivaton #MondayMorning https://t.co/6ssJS9qys2","lallyboyz1:@MutuaMadridOpen @geniebouchard @DonnaVekic Go Genie🇨🇦","Dapper_Tux:Thanks @PlayStation, what a great initiative! \n\nDon’t forget to grab your #free games here: https://t.co/aQeLUaWjKH\n\n#StayHome #PlayAtHome https://t.co/PggOBGp0uG","JerseyCaddy:@ElinaSvitolina @MutuaMadridOpen @Nikecourt @Hublot Great shots!!!⭐️👌💪👊👍☝️🔥","DeeGarvey:@gish this one is for #teamspnbtchjrk duplicate a TV dinner challenge #gish #playathome #gishplayathome2020 #spnfamily #tvdinner @ Diamondhead, Mississippi https://t.co/NPUSNNWUqi","DeeGarvey:@gish this one is for #teamspnbtchjrk video call/ugly shirt challenge #gish #playathome #gishplayathome2020 #spnfamily #uglyshirt @ Diamondhead, Mississippi https://t.co/9x9s8PiQ4v","DeeGarvey:@gish this one is for #teamspnbtchjrk toilet paper altar challenge #gish #playathome #gishplayathome2020 #spnfamily #toiletpaper @ Diamondhead, Mississippi https://t.co/xGWVDmZ975","DeeGarvey:@gish this one is for #teamspnbtchjrk virtual hug challenge #gish #playathome #gishplayathome2020 #spnfamily #virtualhug done with my bff @jeanellesonnier @ Diamondhead, Mississippi https://t.co/SXNEjCQKKt","LaLegionARG:El peque ya tiene su primer rival del #mmopen 👦🏼👦🏼\n.\nTODA LA INFO en en https://t.co/O6v39Tvfxu\n.\n.\n.\n.\n.\n.\n.\n.\n#AtpTour #AtpWorldTour #Wta #TenisMasculino #TenisFemenino #TenisTime #TennisPlayers #TennisAtHome… https://t.co/uWF5Bl006V","janinenewberry:Few to get you going... enjoy!\n\nHeating\nAl Pacino battles Robert Di Niro for control of the thermostat.\n\nGhosting \nAn autobiographical tale of a serial Tinder dater. \n\nReservoir Dogging \n- I’d rather not say... 😁\n\n#IsolationGames #PlayAtHome https://t.co/S0ipVZIa5B","rohitsolanki879:INDIA WON WORLD CUP 🏏🇮🇳\n#WCC2 #PlayAtHome #CricketConnected #WorldCup #kingkohli #MSDhoni #enjoyathome https://t.co/A4wfDRgUiJ","DoniVonEschwege:@ElinaSvitolina @MutuaMadridOpen @Nikecourt @Hublot Sexy","rodrigoneia:E o torneio de tênis de Madrid que, ao ser cancelado pelo Corona, decidiu: “quer saber? Vamos manter esse treco pelo vídeo game mesmo!”. Sensacional.  😂 https://t.co/q9c2xQfZ6F","simmi974:#playground #quarantine #nokids #silence #silencio #bobcat #play #playathome #toys #toystory #toystagram #playtime #kids #kidsroom #nature #outsideisfree #outsideisfree #mitkindernunterwegs #baby @ Großluga, Sachsen,… https://t.co/fjlIQgc1N4","Warzag2:The main actors of the WWII\n#warzag #strategic #boardgame #history #giochidatavolo #ComingSoon #followme #oninstagram #PlayAtHome #players #leaders #WorldWar2 #boardgames #italy #Germany #uk #Russia #basegame #comment #support #project https://t.co/WGoMaCejvu","yuki06556112:@keinishikori @MutuaMadridOpen 圭くんおうえんしてるよ\nがんばって https://t.co/a5SCc9mAlM","natycano181:Carpe diem \n🍃\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n#brasil🇧🇷 #carpediemplanner #instabeaches #ilhagrande_bra #ilhagrande #playathome #nacagi #saturdayvibes #sol #bikini #nacagiphoto #canonphotography… https://t.co/lxFkQbastA","applember:20200425\nAbra Community Day 💙💛❤️\n\npokemongoapp\nnianticlabs\n\n#PokemonGo #abracommunityday #counter #fastmove #pokemon #PlayAtHome #StaySafe #StayHome #InvestigatingIllusions #psychic #FingerAbs @ Palayan City https://t.co/OC2w0e8nF9","ElissaWilson9:@MutuaMadridOpen Had tickets to come to the real thing in Madrid. Will pour a long cool drink and watch this instead...from the sofa in Scotland.","Agury15:@sacary7 @MutuaMadridOpen Pero si no das una bien.","Isafederer:@CarlaSuarezNava @MutuaMadridOpen @WTA Vamos Carla!!! 💪💪💪","Winbokend:#StayHome  #PlayAtHome \n#PokemonGOCommunityDay https://t.co/1k5Lx9IMaO","drumkanwinkk:おはようございます😃☀\n4/25 #歩道橋の日\nそーいえばここ何年も、\n歩道橋を利用してないです。\n駅前直結スタイルならありますが。。\n\nさて。今日はケーシィ。\n#早速イロチ\n#あまりイロチ感なし\n#playathome\n#おこう3時間ww https://t.co/0XAO7hojF7 https://t.co/1Y9fmlRPxT","WesleyHard86:@MutuaMadridOpen Thiem","LindseyRojem:We’re missing 8 members of our #GISH #PlayAtHome team, is anyone part of Rhoades2Victory? @GISH #rolecall #scavengerhunt","Willho2:@DonnaVekic @BelindaBencic @MutuaMadridOpen solid and consistent!","seblauzier:Thanks for your time @feliciano_lopez and congratulations on a great draw! Good luck with the #PlayAtHome #MMOpen @MutuaMadridOpen Hasta la vista 👍 https://t.co/Cmg5kTvelb","casimirete:@MutuaMadridOpen @DavidFerrer87 No he visto a Deliciano en el cuadro va a ser director virtual del torneo?","casimirete:@MutuaMadridOpen @DavidFerrer87 Nadal por supuesto..","milan37000:@MutuaMadridOpen @atptour A gde vam je djokovic Majmuni","rgannonsnow:Looking for some cheap and easy entertainment to stimulate your brain? DIY (bilingual) puzzle races using a cracker box! Play against a family member or time yourself.  Challenge yourself further by mixing together ALL the pieces and try to solve both sides! #PlayAtHome #diy https://t.co/bEV0piRjXu","emilykerrin:If you’re looking for something to keep you busy this weekend - we’ve launched another #PlayAtHome game!! 👏🏼💎 #PlayApartTogether https://t.co/igYETcSuu7","mescribble:Tomorrow tomorrow I love ya tomorrow you’re only a dayyyy aaaaawaaaayyyy! 😍 #GISH #PlayAtHome","damian_emman:My favorite players taking part in the @MutuaMadridOpen Virtual Pro tournament. I hope @DonnaVekic wins! 🏆🐼🎾 https://t.co/4D1f21JBBO","DCWinslow:The best game ever! #stayathome #playathome https://t.co/t8WctpQscM","fuel2win:#PlayAtHome https://t.co/ebqTaTSyeY"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-38.19988735475,57.1605562],"lng":[-122.857891,153.369361472]}},"evals":[],"jsHooks":[]}</script>

Even with the small proportion of tweets we can get an idea of where the audience for the tournament is. 
Let's see how many languages are represented
<pre class="r"><code>ggplot(tw[,.N,lang][N&gt;50], aes(x=lang,y=N)) + geom_bar(stat=&quot;Identity&quot;) + theme_bw()</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>As expected English is the most represented language followed by Spanish. Not a big surprise since the tournament took place there.</p>
<p>We want to assess the overall sentiment for the tournament from the tweets. We can do this by using the sentimentr package.
Let’s look at an example first.</p>
<pre class="r"><code>exampleText&lt;-tw[lang==&quot;en&quot;,text][129]
exampleText</code></pre>
<pre><code>## [1] &quot;I thought the next gen would dominate the virtual #MMOPEN and one of them would be the champs. \n\nIt turned out that one of the big 4 stole the victory.\n\nShame on you, next gen &lt;U+0001F609&gt;&lt;U+0001F61D&gt;&lt;U+0001F604&gt;&quot;</code></pre>
<pre class="r"><code>sentiment_by(exampleText)</code></pre>
<pre><code>##    element_id word_count        sd ave_sentiment
## 1:          1         34 0.1980625    -0.1427715</code></pre>
<p>First, let’s translate the tweets for the most prevalent languages.
I will do Spanish, Japanese, French and Italian</p>
<pre class="r"><code>spanish&lt;-tb$TextBlob(tw[lang==&quot;es&quot;,][,paste0(text,collapse = &quot; 12345 &quot;)])
trans.spanish&lt;-spanish$translate(from_lang = &quot;es&quot;, to=&quot;en&quot;)
#(trans=unlist(strsplit(as.character(trans.spanish),&quot; 12345 &quot;)))</code></pre>
<p>The following code chunk calculates the sentiment for each tweet and appends the results back to the table.</p>
<pre class="r"><code>twen &lt;- tw[lang==&quot;en&quot;]
sent &lt;- sentiment_by(get_sentences(twen[,(text)]))</code></pre>
<p>How is the sentiment distributed?</p>
<pre class="r"><code>ggplot(sent,aes(ave_sentiment)) + geom_histogram(bins=50) + theme_bw()</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>There is a big peak at 0 which represents neutral tweets. The distributions to either side of 0 show that sentiment is more positive than negative.</p>
<p>Let’s remove the neutral-sentiment tweets and plot the histogram again this time looking at the evolution per day.</p>
<pre class="r"><code>twen&lt;-bind_cols(twen,sent)
twen[,sent_dir:=ifelse(ave_sentiment&lt;0,&quot;Negative&quot;,ifelse(ave_sentiment&gt;0,&quot;Positive&quot;,&quot;Neutral&quot;))]
ggplot(twen[ave_sentiment!=0],aes(ave_sentiment, fill=sent_dir)) + geom_histogram(bins=50) + facet_wrap(.~date(created_at)) + theme_bw()</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>We can extract the terms that contributed to the classification of the tweets.</p>
<pre class="r"><code>terms&lt;-extract_sentiment_terms((twen[,text]))</code></pre>
<p>Extracted positive sentiment terms</p>
<pre class="r"><code>my_sw&lt;-c(stop_words$word,&quot;virtual&quot;,&quot;pro&quot;,&quot;play&quot;,&quot;game&quot;,&quot;tennis&quot;,&quot;players&quot;,&quot;madrid&quot;,&quot;match&quot;,&quot;video&quot;,&quot;games&quot;,&quot;player&quot;,&quot;players&quot;,&quot;tournament&quot;)

u&lt;-data.table(words=unlist(terms[,positive]))[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wordcloud(words = u$words, freq = u$N, min.freq = 1,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Extracted negative sentiment terms</p>
<pre class="r"><code>u&lt;-data.table(words=unlist(terms[,negative]))[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wordcloud(words = u$words, freq = u$N, min.freq = 1,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-12-1.png" width="672" />
Quick cleaning of the text data</p>
<pre class="r"><code>twen[,text2 := gsub(&quot;https\\S*&quot;, &quot;&quot;, text)]
twen[,text2 := gsub(&quot;@\\S*&quot;, &quot;&quot;, text2) ]
twen[,text2 := gsub(&quot;#\\S*&quot;, &quot;&quot;, text2) ]
twen[,text2 := gsub(&quot;amp&quot;, &quot;&quot;, text2) ]
twen[,text2 := gsub(&quot;[\r\n]&quot;, &quot;&quot;, text2)]
twen[,text2 := gsub(&quot;[[:punct:]]&quot;, &quot;&quot;, text2)]</code></pre>
<pre class="r"><code>u&lt;-unnest_tokens(twen[ave_sentiment&gt;0,.(text2)],words,text2)[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wordcloud(words = u$words, freq = u$N, min.freq = 5,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;),scale = c(1.5,0.5))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>u&lt;-unnest_tokens(twen[ave_sentiment&lt;0,.(text2)],words,text2)[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wordcloud(words = u$words, freq = u$N, min.freq = 5,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;), scale = c(1.5,0.5))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
